(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[521],{2143:function(e,t,a){"use strict";var n=a(0),r=a(312),i=a(1093),o=a(1180),l=a(1385),s=a(1874);t.a=()=>{const{isLoggedIn:e,productInfoBasic:t,productHasVariant:a,productCampaign:c,productImageMain:d,productThematicCampaign:u}=Object(i.b)(),{variantDefaultChild:m,variantData:p,selectedChildren:h}=Object(o.b)(),[,b]=Object(l.b)(),{showChatWidget:g}=Object(n.useContext)(r.a),v=Object(s.a)({productHasVariant:a,productCampaign:c,productInfo:t,selectedVariant:h,productThematicCampaign:u}),{prefix:E,suffix:f}=d,y=`${E}700${f}`;return{toggleChat:()=>{var a,n;if(!e)return void b({type:"SET_SHOW_LOGIN_POPUP",payload:!0});const r=null===(a=h.optionID)||void 0===a?void 0:a.map(((e,t)=>{var a;const n=p[t]||{},r=(null===(a=n.option)||void 0===a?void 0:a.find((t=>Number(t.productVariantOptionID)===e)))||{};return{identifier:n.identifier,position:t+1,name:n.name,option:{value:r.value,hex:r.hex}}})),i={page:"pdp",shopId:Number(t.shopID),attachedItems:[{type:"product",id:Number(v.productId),image_url:(null===(n=h.picture)||void 0===n?void 0:n.urlOriginal)||y,name:h.productName||t.name,url:h.productURL||t.url,price:Number(v.priceUnformatted),priceBefore:Number(v.originalPriceUnformatted),dropPercentage:v.percentage,variant:r,status:"ACTIVE"===t.status?1:0,defaultChild:Number(m)}]};g(i)}}}},2208:function(e,t,a){"use strict";var n=a(4);const r=Object(n.default)({resolved:{},chunkName:()=>"choose-address-modal",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e(17),a.e(836),a.e(242)]).then(a.bind(null,2167)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 2167}},{fallback:null,ssr:!1});t.a=r},2885:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));const n="50501",r="50503",i=["50502","50504",n,r]},4038:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(39),o=a(1129),l=a(30),s=a(2322),c=a(1289),d=a(1061),u=a.n(d),m=a(2885),p=a(2243),h=a(2208),b=a(2242),g=a(2143),v=a(2111),E=a(1127),f=a(1385),y=a(1093),O=a(1257),S=a(1180),C=a(5665),N=a(1317),D=a(1088);var _=({tooltip:e,text:t})=>r.a.createElement(D.a,{placement:"bottom",text:e},r.a.createElement(N.a,{style:{marginRight:"4px"},variant:"highlightAlternate",color:"grey"},t)),A=a(3271),x=a(2),k=a(1),I=a(307);const j=Object(x.css)("margin-top:16px;"),w=Object(x.css)("cursor:pointer;"),L=Object(x.css)("display:flex;justify-content:space-between;align-items:center;"),T=Object(x.css)("color:",k.GN500,";font-size:12px;font-weight:bold;cursor:pointer;",I.c,";"),H=Object(x.css)("display:flex;> img{height:16px;width:16px;margin-top:2px;}> div{color:",k.NN950,";margin-left:8px;line-height:20px;width:100%;> div{margin-bottom:4px;}}a{color:",k.GN500,";font-weight:bold;}.muted{color:",k.NN600,";}&.pad-bottom{padding-bottom:8px;}");const P=e=>Object(x.css)("display:flex;width:100%;margin-top:6px;> button{",e?"margin-left: auto;":""," margin-right:24px;",T,";}.courier-info{margin-right:4px;}");t.default=({layoutTracker:e})=>{var t;const[a,d,N]=Object(v.a)(),[{chooseAddressInfo:D},x]=Object(f.b)(),{productInfoBasic:k,productSnapshot:I}=Object(y.b)(),{selectedChildren:B,selectedVariantID:$}=Object(S.b)(),{ratesEstimate:R,productShopInfo:V,isP2Loading:M}=Object(O.b)(),{warehouseInfo:U}=Object(p.b)(),{toggleChat:K}=Object(g.a)(),{showChooseAddress:q,invalidAddress:F}=D,G=Boolean(B.isCOD||I.isCOD),z=Boolean(U.is_fulfillment),W=k.isTokoNow,J=String($>0?$:k.id),Q=R.find((e=>{var t;return null===(t=e.products)||void 0===t?void 0:t.includes(J)}))||R[0]||{},X=0===R.length,{data:Y,bottomsheet:Z,warehouseID:ee}=Q,{errors:te,eTAText:ae,courierLabel:ne,title:re="",subtitle:ie="",fulfillmentData:oe}=Y||{},le=Number(null==te?void 0:te.length)>0||X,se=String(null==te||null===(t=te[0])||void 0===t?void 0:t.code),ce=Boolean(ne)||G,{description:de,icon:ue=""}=oe||{};Object(n.useEffect)((()=>{le?x({type:"SET_CHOOSE_ADDRESS",payload:{invalidAddress:!0,errorData:Z,errorCode:se}}):!le&&F&&x({type:"SET_CHOOSE_ADDRESS",payload:{invalidAddress:!1,errorData:{},errorCode:""}})}),[le,x,se,re,ie,Z,F]);const me=()=>{x({type:"SET_CHOOSE_ADDRESS",payload:{showChooseAddress:!0}}),N(!1)},pe=()=>{x({type:"SET_CHOOSE_ADDRESS",payload:{showChooseAddress:!1}})},he=t=>{t.preventDefault(),le&&se===m.c?K():(se===m.b&&Object(E.a)({clickAction:"lengkapi alamat on shipping component",eventLabel:`message:${Object(b.a)(ie)};`,layoutTracker:e}),me())},be=()=>{Object(E.a)({clickAction:"lihat kurir lainnya",eventLabel:`title:${re};labelShipping:${ne};cod:${G};`,layoutTracker:e,extraFields:{productId:k.id,shopId:k.shopID}}),N(!0)};return M?r.a.createElement(A.a,null):le&&!m.a.includes(se)||R.length<=0?r.a.createElement(o.a,{title:"Ongkir gagal ditampilkan",onClick:()=>window.location.reload()},"Klik ikon di samping untuk coba lagi"):X?null:r.a.createElement("div",{className:j},r.a.createElement(i.default,{body:"display-1",heading:2,bold:!0,main:!0,margin:"0 0 12px"},"Pengiriman"),r.a.createElement("div",null,z?r.a.createElement("div",{className:`${H} pad-bottom`},r.a.createElement("img",{src:ue,alt:""}),r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:u()(de,{ALLOWED_TAGS:["b"]})}}),r.a.createElement("div",{className:"muted"},"Barang dikirim dari gudang terdekat dengan alamatmu"))):r.a.createElement("div",{className:`${H} pad-bottom`},r.a.createElement(c.a,{size:18}),r.a.createElement(i.default,{body:"display-2",heading:2,main:!0,margin:`0 0 0 ${l.spacingLv3}`},"Dikirim dari ",r.a.createElement("b",null,V.location))),r.a.createElement("div",{className:H,"data-testid":"pdpShipmentContent"},r.a.createElement(s.a,{size:20}),r.a.createElement("div",null,le?r.a.createElement("div",{className:w,dangerouslySetInnerHTML:{__html:u()(ie)},"data-testid":"lblErrorShipment",onClick:he,onKeyPress:he,role:"button",tabIndex:0}):r.a.createElement(r.a.Fragment,null,W?r.a.createElement(i.default,{body:"display-2",margin:"0 0 4px 0",bold:!0,main:!0,"data-testid":"pdpShipmentV2Title"},re):r.a.createElement("div",{dangerouslySetInnerHTML:{__html:u()(re)}}),W?r.a.createElement("div",{className:L},r.a.createElement("div",{className:"muted"},ae),r.a.createElement("button",{type:"button",className:T,onClick:be,"data-testid":"btnShowShipmentModal"},"Lihat Pilihan Pengiriman")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"muted"},ae),r.a.createElement("div",{className:P(ce)},ce&&r.a.createElement("div",{className:"courier-info"},ie),ne&&r.a.createElement(_,{text:ne,tooltip:"Bisa terima barang di hari yang sama (khusus kurir tertentu)"}),G&&r.a.createElement(_,{text:"COD",tooltip:"Bisa bayar saat barang diterima (khusus kurir tertentu)"}),r.a.createElement("button",{type:"button",className:T,onClick:be,"data-testid":"btnShowShipmentModal"},"Lihat Pilihan Kurir")))))),a&&r.a.createElement(C.a,{onClose:()=>N(!1),onShowChooseAddress:me,show:d,fulfillmentIcon:ue,warehouseID:ee}),q&&r.a.createElement(h.a,{source:"pdp",display:q,onClose:pe,onFinish:pe})))}},5665:function(e,t,a){"use strict";var n=a(4);const r=Object(n.default)({resolved:{},chunkName:()=>"pdp-shipment-modal",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e(522).then(a.bind(null,3871)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 3871}});t.a=r}}]);