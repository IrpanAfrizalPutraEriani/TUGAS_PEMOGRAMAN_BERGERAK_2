(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[633],{3911:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(240),s=t.n(c),l=t(2465),i=t(2643),o=t.n(i),u=t(4940),d=t.n(u),p=t(4942),_=t.n(p),m=t(4948),E=t.n(m),h=t(4953),I=t.n(h),S=t(4960),b=t.n(S),k=t(4966),D=t.n(k),A=t(4971),T=t.n(A),g=t(105),v=t(22),y=t(4976),L=t.n(y),O=t(4977),P=t.n(O),R=t(4978),f=t(650),q=t.n(f),C=t(4979),j=t.n(C);var H=e=>{const{onDeleteUpdateItems:a}=e,[t]=Object(v.useMutation)(j.a);return{onDeleteSingleItem:e=>{const{itemId:n,title:r,type:c,uniqueId:s,userId:l}=e,i={q:r,id:String(n),user_id:String(l),type:c,unique_id:String(s),clear_all:"false",device:"desktop"};t({variables:{param:q()(i)},update:e=>a(e,r,!1)})},onDeleteAllItem:e=>{const{uniqueId:n,userId:r}=e,c={clear_all:String(!0),device:"desktop",unique_id:String(n),user_id:String(r)};t({variables:{param:q()(c)},update:e=>a(e,"",!0)})}}};var U=e=>{const{addressData:a,baseSRPApplink:t,events:r,isDarkTheme:c,isLocalSearch:s,isLocalSelected:l,navsource:i,srpPageId:o,srpPageTitle:u,unique_id:d,user_id:p}=e,_=s&&!l?"":i||"home",m=Object(g.stringify)({source:"search",device:"desktop",navsource:_,unique_id:d,user_id:p,safe_search:!0,baseSRPApplink:t,srp_page_id:o,srp_page_title:u,...a}),E={"x-dark-mode":c},h=Object(v.useQuery)(L.a,{variables:{params:m},context:{headers:E},fetchPolicy:"cache-and-network"}),{fetchMore:I}=h,S=Object(n.useCallback)((e=>{const{template:a}=e;I({query:L.a,variables:{params:m},updateQuery:(e,{fetchMoreResult:t})=>t?Object(R.updatePopular)(t,e,a):e})}),[I,m]),{onDeleteAllItem:b,onDeleteSingleItem:k}=H({onDeleteUpdateItems:(e,a,t)=>{const n=e.readQuery({query:L.a,variables:{params:m}}),r=Object(R.updateRecent)(n,a,t);e.writeQuery({query:L.a,variables:{params:m},data:r})}}),D=Object(n.useCallback)((()=>{b({userId:p,uniqueId:d})}),[p,d,b]),A=Object(n.useCallback)((e=>{const{title:a,itemId:t,type:n}=e;k({title:a,itemId:t,type:n,userId:p,uniqueId:d})}),[p,d,k]),T=P()(h);return Object(n.useEffect)((()=>(r.on("@search_modal/popular_search_click_action",S),r.on("@search_modal/recent_search_click_header_action",D),r.on("@search_modal/recent_search_click_icon_action",A),()=>{r.off("@search_modal/popular_search_click_action",S),r.off("@search_modal/recent_search_click_header_action",D),r.off("@search_modal/recent_search_click_icon_action",A)})),[r,D,A,S]),{response:T}};const w={container:"hHeaderListProductLine"},N={container:"lnkHeaderRcntSearch",rightIcon:"imgHeaderDltRcntSearch"};a.default=e=>{const{addressData:a,baseSRPApplink:t,isDarkTheme:n,isLocalSearch:c,isLocalSelected:i,navsource:u,srpPageId:p,srpPageTitle:m,userId:h,uniqueId:S}=e,{events:k}=s()(),{response:A}=U({addressData:a,baseSRPApplink:t,events:k,isDarkTheme:n,isLocalSearch:c,isLocalSelected:i,navsource:u,srpPageId:p,srpPageTitle:m,unique_id:S,user_id:h}),{data:g,status:v}=A;return r.a.createElement(d.a,{initialStateData:g,status:v},r.a.createElement(o.a,{template:l.TypeEnum.POPULAR_SEARCH,component:r.a.createElement(E.a,null)}),r.a.createElement(o.a,{template:l.TypeEnum.RECENT_VIEW,component:r.a.createElement(D.a,null)}),r.a.createElement(o.a,{template:l.TypeEnum.RECENT_SEARCH,component:r.a.createElement(b.a,{dataTestIds:N})}),r.a.createElement(o.a,{template:l.TypeEnum.LIST_PRODUCT_LINE,component:r.a.createElement(I.a,{dataTestIds:w})}),r.a.createElement(o.a,{template:l.TypeEnum.SEARCHBAR_EDUCATION,component:r.a.createElement(T.a,null)}),r.a.createElement(o.a,{template:l.TypeEnum.POPULAR_CATEGORY,component:r.a.createElement(_.a,null)}))}}}]);